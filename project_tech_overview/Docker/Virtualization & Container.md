## 가상화와 컨테이너

---

가상화는 하나의 하드웨어를 여러 개의 가상 머신으로 분할해 효율적으로 사용할 수 있는 기술이다.

분할된 가상 머신들은 각각 독립적인 환경으로 구동된다.

- 이때, 베이스가 되는 기존의 환경을 Host OS,
- 가상 머신으로 분할된 각각의 환경을 Guest OS라고 부른다.

가상 머신을 생성하기 위해서는 하이퍼바이저 또는 가상 머신 모니터라 불리는 소프트웨어를 이용한다.

하이퍼바이저는 호스트 하드웨어에 설치되어 호스트와 게스트를 나누는 역할을 한다.

- 각각의 게스트는 하이퍼바이저에 의해서 관리되며 시스템 자원을 할당받게 된다.
- 생성된 게스트는 호스트나 다른 게스트와 간섭하지 않고 분리된 환경에서 구동된다.
- 또한 마치 하드웨어가 여러 개인 것처럼 하나의 서버를 여러 명이 나눠 쓸 수도 있다.
- 컴퓨터 한 대에서 서로 다른 OS를 동시에 사용할 수도 있다.

하지만 가상 머신으로 무언가 하려면 반드시 하이퍼바이저를 거쳐야 하기 때문에 속도 저하가 필연적이다.

- 가상 머신은 환경을 구동하는 데 필요한 파일을 모두 포함하고 있다.
- 때문에 가상 머신을 배포할 때 만들어지는 이미지 크기가 매우 커진다는 한계점을 가지고 있다.

컨테이너는 하이퍼바이저와 달리 가상의 OS를 만드는 것이 아닌, 베이스 환경의 OS를 공유하면서 필요한 프로세스만 격리하는 방식이다.

- 이는 커널을 공유하기 때문에 호스트 OS의 기능을 모두 사용할 수 있다.
- 때문에, 컨테이너 위에서는 호스트 OS와 다른 OS를 구동할 수 없다.

대신 격리시킬 애플리케이션과 필요한 파일이나 특정 라이브러리 등 종속 항목만 포함한다.

- 때문에, 배포를 위해 생성되는 이미지의 용량이 작아진다는 장점이 있다.
- 운영체제가 아닌 프로세스로 하이퍼바이저를 거칠 필요가 없어 실행 속도가 빠르다는 장점이 있다.
