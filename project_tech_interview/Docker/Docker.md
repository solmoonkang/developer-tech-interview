## 도커란 무엇인가?

---

도커는 컨테이너 기반의 가상화 플랫폼이다. 이러한 도커를 이용하면 다음과 같은 작업을 할 수 있다.

- 이미지를 실행시켜 컨테이너로 만들고, 생성된 컨테이너를 관리하거나
- 컨테이너를 다시 이미지로 만드는 작업을 쉽게 할 수 있다.

때문에 개발 과정에서 다른 라이브러리와 충돌하는 것을 방지하기 위한 격리된 환경, 서비스 배포 혹은 배포 중인 서비스를 받아 실행할 때 유용하다.

- 특히, 배포 과정에서 도커를 사용해 필요한 파일만 이미지로 만들면 종속성 이슈에서 벗어날 수 있다.

## 도커의 동작 과정

---

![Docker Architecture](/image_files/Docker%20&%20Docker-Compose/docker-architecture.png)

### Docker Client, 클라이언트

도커 클라이언트는 사용자가 도커와 상호작용하는 데 사용하는 명령줄 도구이다.

- *docker build, docker pull, docker run* 등과 같은 도커 명령어를 입력하여 도커 엔진과 통신한다.

### Docker Host, 호스트

도커 호스트는 도커 엔진이 설치된 서버이다.

- 도커 컨테이너와 이미지를 실행하는 물리적 또는 가상 머신이다.

### Docker Engine(Docker Deamon), 도커 엔진

도커 엔진은 도커 플랫폼의 핵심 구성 요소로,

- 컨테이너화된 애플리케이션을 실행하는 데 필요한 컨테이너 런타임을 제공한다.

### Docker Registry, 레지스트리

도커 레지스트리는 도커 이미지를 저장하고 배포하는 저장소이다.

- **공식 레지스트리**: DockerHub와 QUAY와 같이 공개적으로 접근 가능한 저장소이다.
    - 사용자들이 이미지를 공유하고 다운로드할 수 있다.
- **사설 레지스트리**: 기업이나 개인이 관리하는 비공식 저장소이다.
    - AWS ECR이나 자체 도커 레지스트리를 통해 설정할 수 있다.

### 외부 이미지 저장소

외부 이미지 저장소는 도커 레지스트리의 한 종류로, 특정 환경이나 요구 사항에 맞게 설정된 저장소이다.

- 일반적으로 기업 내부에서 사용되는 커스텀 저장소를 의미한다.
- 기업의 보안 정책에 맞춰 이미지를 관리하고 조직 내에서 사용되는 이미지를 저장하는 데 적합하다.

## 도커 이미지와 도커 컨테이너

---

도커 엔진에서 사용하는 기본 단위는 이미지와 컨테이너이며, 도커 엔진의 핵심이다.

- 도커 이미지와 도커 컨테이너의 관계는 `1 : N` 관계이다.

예를 들어, 도커 이미지와 도커 컨테이너는 운영체제에서의 프로그램과 프로세스 관계와 비슷하다.

![DockerImage & DockerContainer](/image_files/Docker%20&%20Docker-Compose/docker-image&docker-container.png)

### DockerFile → DockerImage

도커 파일은 도커 이미지를 만들 때 사용하는 파일로, docker build를 실행하면 도커 이미지를 만들 수 있다.

### DockerImage → DockerContainer

도커 이미지를 docker run을 실행하면 도커 컨테이너로 만들 수 있다.

### Docker Image, 도커 이미지

도커 이미지는 애플리케이션과 그 실행 환경을 포함한 읽기 전용 템플릿이다.

애플리케이션이 실행되는 데 필요한 모든 파일, 라이브러리, 환경 변수, 설정 등을 포함하고 있다.

- 도커 이미지는 생성 후 변경되지 않으며, 필요한 경우 새로운 이미지를 만들어야 한다.
- 도커 이미지는 여러 계층으로 구성되어 있으며, 각 계층은 변경 사항을 포함한다.
- 도커 이미지에 태그를 붙여 여러 버전을 관리할 수 있다.

도커 이미지는 애플리케이션 배포의 기본 단위로 사용되며, 다양한 환경에서 동일한 애플리케이션을 실행하는 데 필요한 모든 종속성을 포함한다.

### Docker Container, 도커 컨테이너

도커 컨테이너는 도커 이미지에서 실행되는 인스턴스로, 이미지를 기반으로 실제 실행되는 환경을 제공한다.

각 컨테이너는 격리된 환경에서 실행되며, 서로 독립적으로 동작한다.

- 도커 컨테이너는 실행 중 변경될 수 있고, 데이터를 작성하거나 수정할 수 있다.
- 도커 컨테이너는 가상 머신보다 더 가볍고 빠르게 시작할 수 있다.
- 각 컨테이너는 격리되어 실행되어 한 컨테이너의 변경 사항이 다른 컨테이너에 영향을 미치지 않는다.

도커 컨테이너는 애플리케이션을 실행하는 데 사용되며, 개발 및 테스트 환경에서부터 프로덕션 환경에 이르기까지 다양한 용도로 활용된다.

### 참고 자료
[Docker 기본 개념](https://velog.io/@rivkode/Docker-%EB%9E%80)
